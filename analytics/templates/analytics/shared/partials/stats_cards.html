{% load analytics_filters %}
{% comment %}
Summary statistics cards component
Requires context: platform, total_posts, and metric totals
{% endcomment %}

<div class="grid grid-cols-1 gap-4 sm:gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-{{ platform.metrics|length|add:1 }} mb-6 sm:mb-8">
  <!-- Total Posts -->
  <div class="bg-white overflow-hidden shadow rounded-lg">
    <div class="p-5">
      <div class="flex items-center">
        <div class="flex-shrink-0">
          {% include 'analytics/shared/components/icons.html#image-icon' with size='h-6 w-6' color='gray-400' %}
        </div>
        <div class="ml-5 w-0 flex-1">
          <dl>
            <dt class="text-sm font-medium text-gray-500 truncate">Total Posts</dt>
            <dd class="text-lg font-semibold text-gray-900">{{ total_posts|default:0 }}</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>

  <!-- Dynamic Metrics -->
  {% for metric in platform.metrics %}
  <div class="bg-white overflow-hidden shadow rounded-lg">
    <div class="p-5">
      <div class="flex items-center">
        <div class="flex-shrink-0">
          {% if metric.icon == 'heart' %}
            {% include 'analytics/shared/components/icons.html#heart-icon' with size='h-6 w-6' color='gray-400' %}
          {% elif metric.icon == 'comment' %}
            {% include 'analytics/shared/components/icons.html#comment-icon' with size='h-6 w-6' color='gray-400' %}
          {% elif metric.icon == 'share' %}
            {% include 'analytics/shared/components/icons.html#share-icon' with size='h-6 w-6' color='gray-400' %}
          {% elif metric.icon == 'bookmark' %}
            {% include 'analytics/shared/components/icons.html#bookmark-icon' with size='h-6 w-6' color='gray-400' %}
          {% elif metric.icon == 'people' %}
            {% include 'analytics/shared/components/icons.html#people-icon' with size='h-6 w-6' color='gray-400' %}
          {% endif %}
        </div>
        <div class="ml-5 w-0 flex-1">
          <dl>
            <dt class="text-sm font-medium text-gray-500 truncate">Total {{ metric.label }}</dt>
            <dd class="text-lg font-semibold text-gray-900">
              {% if metric.key == 'likes' %}{{ total_likes|default:0 }}
              {% elif metric.key == 'favourites' %}{{ total_favourites|default:0 }}
              {% elif metric.key == 'comments' %}{{ total_comments|default:0 }}
              {% elif metric.key == 'replies' %}{{ total_replies|default:0 }}
              {% elif metric.key == 'shares' %}{{ total_shares|default:0 }}
              {% elif metric.key == 'reblogs' %}{{ total_reblogs|default:0 }}
              {% elif metric.key == 'saved' %}{{ total_saved|default:0 }}
              {% elif metric.key == 'reach' %}{{ total_reach|default:0 }}
              {% else %}0{% endif %}
            </dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
